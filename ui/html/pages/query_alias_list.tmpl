{{define "title"}}
Query Alias
{{end}}

{{define "content"}}

<div class="row p-2">
  <div class="col">
    <div class="card ">
      <div class="card-header">
        <p class="h5">Query Alias 
          <a data-toggle="tooltip" data-placement="bottom" title="Add new server"
           class="btn btn-ghost-info float-right" href="/queryalias/add">+Add</a></p>
           <small class="text-muted">Manage short alias for the your queries. Alias is a single word and must start with @ </small>
      </div>
      <div class="card-body">

<table id="aliaslist"  class="table   table-borderless table-responsive-sm table-striped    ">
  <thead class="thead-dark">
    <tr>
       <th>Alias</th>
      <th>Query</th>
      <th>Options</th>
    </tr>
  </thead>
  <tbody>
    {{if .ShorthandQueries}}
    {{range .ShorthandQueries}}
    <tr>
       <td>{{.Name}}</td>
      <td>{{.Sql}}</td>
      <td nowrap>
        
        {{if .AutoGenerated}}
          AutoGenerated
        {{else}}
        <a class="btn btn-info" href='/queryalias/update/{{.ID}}'>Edit</a>
        <a class="btn btn-danger" href='/queryalias/delete/{{.ID}}'>Delete</a>
        {{end}}
      </td>

    </tr>
    {{end}}

    {{else}}
     {{end}}
  </tbody>
</table>
</div>

</div></div></div>
{{end}}


{{define "aftercontent"}}

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.css">
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.js"></script>

<script>
  
    $(document).ready( function () {
      $('#aliaslist').DataTable(
        {      
              order: [[2, 'desc'], [0, 'asc']],
              orderMulti: true,
              "language": {
                "emptyTable": "No results found"
              }
          }
      );
  } );
</script>
{{end}}